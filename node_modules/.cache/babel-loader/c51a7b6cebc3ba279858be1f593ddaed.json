{"remainingRequest":"C:\\Users\\HC\\Desktop\\vue-m.maizuo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HC\\Desktop\\vue-m.maizuo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\HC\\Desktop\\vue-m.maizuo\\src\\store\\modules\\city.js","dependencies":[{"path":"C:\\Users\\HC\\Desktop\\vue-m.maizuo\\src\\store\\modules\\city.js","mtime":1589952269248},{"path":"C:\\Users\\HC\\Desktop\\vue-m.maizuo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HC\\Desktop\\vue-m.maizuo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\HC\\Desktop\\vue-m.maizuo\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXFVzZXJzXFxIQ1xcRGVza3RvcFxcdnVlLW0ubWFpenVvXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX211dGF0aW9uczsKCmltcG9ydCB7IGdldENpdHkgfSBmcm9tICdAL2FwaS9jaXR5JzsKaW1wb3J0IHsgSW5kaWNhdG9yIH0gZnJvbSAnbWludC11aSc7CmltcG9ydCB7IEhJREVfVEFCQkFSLCBTSE9XX1RBQkJBUiwgQ0lUWV9MSVNULCBDSEFOR0VfQ0lUWSB9IGZyb20gJy4uL211dGF0aW9uLXR5cGVzJzsKdmFyIGNpdHkgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgLy8g5o6n5Yi2dGFiYmFy5pi+56S6CiAgICBpc1RhYmJhclNob3c6IHRydWUsCiAgICAvLyDln47luILliJfooagKICAgIGNpdHlMaXN0OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eUxpc3QnKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHlMaXN0JykpIDogW10sCiAgICAvLyDlvZPliY3pgInmi6nln47luILnmoQgSUQKICAgIGNpdHlJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHlJZCcpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHlJZCcpIC0gMCA6ICcnCiAgfSwKICBtdXRhdGlvbnM6IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBISURFX1RBQkJBUiwgZnVuY3Rpb24gKHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS5pc1RhYmJhclNob3cgPSBkYXRhOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0hPV19UQUJCQVIsIGZ1bmN0aW9uIChzdGF0ZSwgZGF0YSkgewogICAgc3RhdGUuaXNUYWJiYXJTaG93ID0gZGF0YTsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIENJVFlfTElTVCwgZnVuY3Rpb24gKHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS5jaXR5TGlzdCA9IGRhdGE7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBDSEFOR0VfQ0lUWSwgZnVuY3Rpb24gKHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS5jaXR5SWQgPSBkYXRhOwogIH0pLCBfbXV0YXRpb25zKSwKICBhY3Rpb25zOiB7CiAgICBnZXRDaXR5TGlzdDogZnVuY3Rpb24gZ2V0Q2l0eUxpc3Qoc3RvcmUpIHsKICAgICAgSW5kaWNhdG9yLm9wZW4oKTsKICAgICAgZ2V0Q2l0eSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEuY2l0aWVzKQogICAgICAgIC8vIHRoaXMuZGF0YUxpc3QgPSB0aGlzLmdldENpdHlMaXN0KHJlcy5kYXRhLmRhdGEuY2l0aWVzKQogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eUxpc3QnLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS5kYXRhLmNpdGllcykpOwogICAgICAgIHN0b3JlLmNvbW1pdChDSVRZX0xJU1QsIHJlcy5kYXRhLmRhdGEuY2l0aWVzKTsKICAgICAgICBJbmRpY2F0b3IuY2xvc2UoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvKiDln47luILliJfooagg5LqM57u05pWw57uEICovCiAgICBjaXR5TGlzdEdldHRlcjogZnVuY3Rpb24gY2l0eUxpc3RHZXR0ZXIoc3RhdGUpIHsKICAgICAgdmFyIGxldHRlckFyciA9IFtdOwogICAgICB2YXIgbmV3TGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDY1OyBpIDwgOTE7IGkrKykgewogICAgICAgIGxldHRlckFyci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpOwogICAgICB9IC8vIGNvbnNvbGUubG9nKGxldHRlckFycikKCgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChqKSB7CiAgICAgICAgdmFyIGFyciA9IHN0YXRlLmNpdHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ucGlueWluLnN1YnN0cmluZygwLCAxKSA9PT0gbGV0dGVyQXJyW2pdLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgewogICAgICAgICAgbmV3TGlzdC5wdXNoKHsKICAgICAgICAgICAgaW5kZXg6IGxldHRlckFycltqXSwKICAgICAgICAgICAgbGlzdDogYXJyCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxldHRlckFyci5sZW5ndGg7IGorKykgewogICAgICAgIF9sb29wKGopOwogICAgICB9CgogICAgICByZXR1cm4gbmV3TGlzdDsKICAgIH0sCiAgICAvLyDng63pl6jln47luILliJfooagKICAgIGhvdENpdHk6IGZ1bmN0aW9uIGhvdENpdHkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNpdHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlzSG90OwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlvZPliY3ln47luIIKICAgIGNpdHlOYW1lOiBmdW5jdGlvbiBjaXR5TmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY2l0eUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNpdHlJZCA9PT0gc3RhdGUuY2l0eUlkOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IGNpdHk7"},{"version":3,"sources":["C:/Users/HC/Desktop/vue-m.maizuo/src/store/modules/city.js"],"names":["getCity","Indicator","HIDE_TABBAR","SHOW_TABBAR","CITY_LIST","CHANGE_CITY","city","namespaced","state","isTabbarShow","cityList","localStorage","getItem","JSON","parse","cityId","mutations","data","actions","getCityList","store","open","then","res","window","setItem","stringify","cities","commit","close","getters","cityListGetter","letterArr","newList","i","push","String","fromCharCode","j","arr","filter","item","pinyin","substring","toLowerCase","length","index","list","hotCity","isHot","cityName","find"],"mappings":"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","sourcesContent":["import { getCity } from '@/api/city'\r\nimport { Indicator } from 'mint-ui'\r\nimport { HIDE_TABBAR, SHOW_TABBAR, CITY_LIST, CHANGE_CITY } from '../mutation-types'\r\nconst city = {\r\n  namespaced: true,\r\n  state: {\r\n    // 控制tabbar显示\r\n    isTabbarShow: true,\r\n    // 城市列表\r\n    cityList: localStorage.getItem('cityList') ? JSON.parse(localStorage.getItem('cityList')) : [],\r\n    // 当前选择城市的 ID\r\n    cityId: localStorage.getItem('cityId') ? localStorage.getItem('cityId') - 0 : ''\r\n  },\r\n  mutations: {\r\n    [HIDE_TABBAR] (state, data) {\r\n      state.isTabbarShow = data\r\n    },\r\n    [SHOW_TABBAR] (state, data) {\r\n      state.isTabbarShow = data\r\n    },\r\n    [CITY_LIST] (state, data) {\r\n      state.cityList = data\r\n    },\r\n    [CHANGE_CITY] (state, data) {\r\n      state.cityId = data\r\n    }\r\n  },\r\n  actions: {\r\n    getCityList (store) {\r\n      Indicator.open()\r\n      getCity().then(res => {\r\n        // console.log(res.data.data.cities)\r\n        // this.dataList = this.getCityList(res.data.data.cities)\r\n        window.localStorage.setItem('cityList', JSON.stringify(res.data.data.cities))\r\n        store.commit(CITY_LIST, res.data.data.cities)\r\n        Indicator.close()\r\n      })\r\n    }\r\n  },\r\n  getters: {\r\n    /* 城市列表 二维数组 */\r\n    cityListGetter: state => {\r\n      const letterArr = []\r\n      const newList = []\r\n      for (let i = 65; i < 91; i++) {\r\n        letterArr.push(String.fromCharCode(i))\r\n      }\r\n      // console.log(letterArr)\r\n      for (let j = 0; j < letterArr.length; j++) {\r\n        const arr = state.cityList.filter(item => item.pinyin.substring(0, 1) === letterArr[j].toLowerCase())\r\n        if (arr.length > 0) {\r\n          newList.push({\r\n            index: letterArr[j],\r\n            list: arr\r\n          })\r\n        }\r\n      }\r\n      console.log(newList)\r\n      return newList\r\n    },\r\n    // 热门城市列表\r\n    hotCity (state) {\r\n      return state.cityList.filter(item => item.isHot)\r\n    },\r\n    // 当前城市\r\n    cityName (state) {\r\n      console.log(state.cityId)\r\n      return state.cityList.find(item => item.cityId === state.cityId)\r\n    }\r\n  }\r\n}\r\nexport default city\r\n"]}]}